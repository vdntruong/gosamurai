# Official Go Tools (golang.org/x/tools/cmd)

A comprehensive reference for official Go tools from the [golang.org/x/tools/cmd](https://pkg.go.dev/golang.org/x/tools/cmd) package.

## Code Formatting & Import Management

### goimports
**Package:** `golang.org/x/tools/cmd/goimports`

Updates your Go import lines, adding missing ones and removing unreferenced ones. Also formats code in the same style as `gofmt`, making it a complete replacement for editor format-on-save hooks.

```bash
go install golang.org/x/tools/cmd/goimports@latest
```

**Features:**
- Automatically adds missing imports
- Removes unreferenced imports
- Formats code (gofmt-compatible)
- Respects `.goimportsignore` file in `$GOPATH/src/`

**Usage:**
```bash
goimports -w .           # Format and fix imports in current directory
goimports -l .           # List files that need formatting
goimports -d file.go     # Show diff without modifying
```

### fiximports
**Package:** `golang.org/x/tools/cmd/fiximports`

Fixes import declarations to use canonical import paths.

```bash
go install golang.org/x/tools/cmd/fiximports@latest
```

## Code Generation

### stringer
**Package:** `golang.org/x/tools/cmd/stringer`

Automates creation of `String()` methods for integer-based types (enums). Perfect for use with `go generate`.

```bash
go install golang.org/x/tools/cmd/stringer@latest
```

**Example:**
```go
//go:generate stringer -type=Pill
type Pill int

const (
    Placebo Pill = iota
    Aspirin
    Ibuprofen
    Paracetamol
)
```

**Usage:**
```bash
stringer -type=Pill                   # Generate for Pill type
stringer -type=Pill,Drug              # Multiple types
stringer -type=Pill -output=custom.go # Custom output file
stringer -trimprefix=Pill -type=Pill  # Remove prefix from strings
stringer -linecomment -type=Pill      # Use line comments as strings
```

## Code Analysis & Navigation

### callgraph
**Package:** `golang.org/x/tools/cmd/callgraph`

Reports the call graph of a Go program, showing which functions call which.

```bash
go install golang.org/x/tools/cmd/callgraph@latest
```

**Usage:**
```bash
callgraph -algo=static -format=graphviz main.go | dot -Tpng -o callgraph.png
```

### deadcode
**Package:** `golang.org/x/tools/cmd/deadcode`

Reports unreachable functions in Go programs using Rapid Type Analysis (RTA).

```bash
go install golang.org/x/tools/cmd/deadcode@latest
```

**Features:**
- Finds dead code using call graph analysis
- Supports test executables with `-test` flag
- Can filter results by package with `-filter` regex
- Excludes generated files by default (use `-generated` to include)
- JSON output support with `-json` flag

**Usage:**
```bash
deadcode ./...                         # Analyze current package
deadcode -test ./...                   # Include test code
deadcode -filter='mymodule' ./...     # Filter to specific packages
deadcode -json ./...                   # JSON output
```

### guru
**Package:** `golang.org/x/tools/cmd/guru`

A tool for answering questions about Go source code. Provides deep code analysis and navigation.

```bash
go install golang.org/x/tools/cmd/guru@latest
```

**Capabilities:**
- Find callers/callees of a function
- Find implements of an interface
- Show type information
- Find all references to an object
- Show control flow graph
- Point-to analysis

**Documentation:** [http://golang.org/s/using-guru](http://golang.org/s/using-guru)

### godex
**Package:** `golang.org/x/tools/cmd/godex`

Extracts and displays exported entities from Go packages, similar to `go doc` but with more detail.

```bash
go install golang.org/x/tools/cmd/godex@latest
```

### gotype
**Package:** `golang.org/x/tools/cmd/gotype`

A type checker for Go source code that verifies syntactic and semantic correctness.

```bash
go install golang.org/x/tools/cmd/gotype@latest
```

## Refactoring Tools

### gorename
**Package:** `golang.org/x/tools/cmd/gorename`

Performs precise, type-safe renaming of identifiers across an entire Go workspace.

```bash
go install golang.org/x/tools/cmd/gorename@latest
```

**Usage:**
```bash
gorename -from '"mypackage".OldName' -to NewName
```

### gomvpkg
**Package:** `golang.org/x/tools/cmd/gomvpkg`

Moves Go packages, updating all imports automatically.

```bash
go install golang.org/x/tools/cmd/gomvpkg@latest
```

**Usage:**
```bash
gomvpkg -from old/package/path -to new/package/path
```

### eg
**Package:** `golang.org/x/tools/cmd/eg`

Example-based refactoring tool. Applies transformations based on template examples.

```bash
go install golang.org/x/tools/cmd/eg@latest
```

## Code Coverage

### cover
**Package:** `golang.org/x/tools/cmd/cover`

Tool for analyzing code coverage profiles generated by `go test -cover`.

```bash
go install golang.org/x/tools/cmd/cover@latest
```

**Usage:**
```bash
go test -coverprofile=coverage.out
go tool cover -html=coverage.out        # View in browser
go tool cover -func=coverage.out        # Show coverage per function
```

## Benchmarking & Testing

### benchcmp
**Package:** `golang.org/x/tools/cmd/benchcmp`

Compares benchmark results from `go test -bench`.

```bash
go install golang.org/x/tools/cmd/benchcmp@latest
```

**Usage:**
```bash
go test -bench=. > old.txt
# Make changes
go test -bench=. > new.txt
benchcmp old.txt new.txt
```

### compilebench
**Package:** `golang.org/x/tools/cmd/compilebench`

Benchmarks the Go compiler's performance.

```bash
go install golang.org/x/tools/cmd/compilebench@latest
```

### stress
**Package:** `golang.org/x/tools/cmd/stress`

Runs tests repeatedly to identify flaky tests.

```bash
go install golang.org/x/tools/cmd/stress@latest
```

**Usage:**
```bash
stress go test -race ./...
```

## Fuzzing Tools

### file2fuzz
**Package:** `golang.org/x/tools/cmd/file2fuzz`

Converts files into corpus entries for Go fuzzing tests.

```bash
go install golang.org/x/tools/cmd/file2fuzz@latest
```

## Utilities

### digraph
**Package:** `golang.org/x/tools/cmd/digraph`

Performs queries over directed graphs expressed in text format. Useful for analyzing dependency graphs.

```bash
go install golang.org/x/tools/cmd/digraph@latest
```

**Usage:**
```bash
go mod graph | digraph somepath golang.org/x/tools github.com/example/pkg
```

### bisect
**Package:** `golang.org/x/tools/cmd/bisect`

Binary search tool for debugging. Helps identify which change introduced a bug.

```bash
go install golang.org/x/tools/cmd/bisect@latest
```

### bundle
**Package:** `golang.org/x/tools/cmd/bundle`

Bundles multiple Go source files into a single file, useful for creating self-contained packages.

```bash
go install golang.org/x/tools/cmd/bundle@latest
```

### gonew
**Package:** `golang.org/x/tools/cmd/gonew`

Creates new Go projects from templates.

```bash
go install golang.org/x/tools/cmd/gonew@latest
```

**Usage:**
```bash
gonew example.com/template/path new/project/path
```

### toolstash
**Package:** `golang.org/x/tools/cmd/toolstash`

Saves and restores copies of Go toolchain binaries, useful for compiler development.

```bash
go install golang.org/x/tools/cmd/toolstash@latest
```

## Documentation & Presentation

### godoc
**Package:** `golang.org/x/tools/cmd/godoc`

Extracts and generates documentation from Go source code. Runs a local documentation server.

```bash
go install golang.org/x/tools/cmd/godoc@latest
```

**Usage:**
```bash
godoc -http=:6060    # Start documentation server
```

### present
**Package:** `golang.org/x/tools/cmd/present`

Tool for creating and displaying slide presentations written in Go's present format.

```bash
go install golang.org/x/tools/cmd/present@latest
```

### present2md
**Package:** `golang.org/x/tools/cmd/present2md`

Converts present-formatted slides to Markdown.

```bash
go install golang.org/x/tools/cmd/present2md@latest
```

### html2article
**Package:** `golang.org/x/tools/cmd/html2article`

Converts HTML to Go article format.

```bash
go install golang.org/x/tools/cmd/html2article@latest
```

## Debugging & Low-Level Tools

### ssadump
**Package:** `golang.org/x/tools/cmd/ssadump`

Dumps the SSA (Static Single Assignment) representation of Go programs. Useful for compiler research and optimization analysis.

```bash
go install golang.org/x/tools/cmd/ssadump@latest
```

### splitdwarf
**Package:** `golang.org/x/tools/cmd/splitdwarf`

Splits DWARF debug information from Go binaries.

```bash
go install golang.org/x/tools/cmd/splitdwarf@latest
```

### goyacc
**Package:** `golang.org/x/tools/cmd/goyacc`

Go version of yacc - generates parsers from grammar specifications.

```bash
go install golang.org/x/tools/cmd/goyacc@latest
```

## Authentication

### auth
**Package:** `golang.org/x/tools/cmd/auth`

Authentication helper for Go tools.

```bash
go install golang.org/x/tools/cmd/auth@latest
```

## Installation

Install any of these tools using:

```bash
go install golang.org/x/tools/cmd/<tool-name>@latest
```

To install all commonly used tools:

```bash
go install golang.org/x/tools/cmd/goimports@latest
go install golang.org/x/tools/cmd/stringer@latest
go install golang.org/x/tools/cmd/deadcode@latest
go install golang.org/x/tools/cmd/callgraph@latest
go install golang.org/x/tools/cmd/gorename@latest
```

## Tracking Tools in Your Project

Create a `tools.go` file to track tool dependencies:

```go
//go:build tools
// +build tools

package tools

import (
    _ "golang.org/x/tools/cmd/goimports"
    _ "golang.org/x/tools/cmd/stringer"
    _ "golang.org/x/tools/cmd/deadcode"
)
```

Then run:
```bash
go mod tidy
```

This ensures all developers have the same tool versions.

## Resources

- [Official Tools Documentation](https://pkg.go.dev/golang.org/x/tools/cmd)
- [Go Tools Repository](https://github.com/golang/tools)
- [Using Guru](http://golang.org/s/using-guru)
- [Go Modules Reference](https://go.dev/ref/mod)
